# Easy Manager å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸ¯ å·²å®Œæˆçš„åŠŸèƒ½

æˆ‘å·²ç»æˆåŠŸä¿®æ”¹äº† `easy_manager.py`ï¼Œç°åœ¨å®ƒæ”¯æŒï¼š

âœ… **1. åˆ›å»ºè¡¨æ ¼** - è¾“å…¥æ•°æ®åº“åã€è¡¨æ ¼åå’Œpandasè¡¨æ ¼ï¼Œåœ¨æ•°æ®åº“ä¸­å»ºç«‹è¡¨æ ¼  
âœ… **2. å»é‡æ’å…¥** - å¦‚æœè¡¨æ ¼å­˜åœ¨ï¼Œè‡ªåŠ¨æŠŠæ²¡é‡å¤çš„è¡Œå¹¶å…¥å…¶ä¸­  
âœ… **3. åˆ é™¤è¡¨æ ¼** - åˆ é™¤æŒ‡å®šçš„è¡¨æ ¼  
âœ… **4. å¯¼å…¥è¡¨æ ¼** - ä»æ•°æ®åº“å¯¼å…¥è¡¨æ ¼åˆ°Python  

## ğŸš€ å¿«é€Ÿæµ‹è¯•

### æ–¹æ³•1: å¿«é€Ÿæµ‹è¯•ï¼ˆæ¨èï¼‰

```bash
python quick_test.py
```

è¿™ä¸ªæµ‹è¯•ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œä¼šæµ‹è¯•æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ï¼š
- åˆ›å»ºè¡¨
- æ’å…¥æ•°æ®
- æ•°æ®å»é‡
- å¯¼å…¥è¡¨
- åˆ é™¤è¡¨

### æ–¹æ³•2: ä½¿ç”¨çœŸå®æ ·æœ¬æ•°æ®æµ‹è¯•

```bash
python sample_data_test.py
```

è¿™ä¸ªæµ‹è¯•ä½¿ç”¨ `sample_data` æ–‡ä»¶å¤¹ä¸­çš„çœŸå®æ•°æ®ï¼ŒåŒ…æ‹¬ï¼š
- Fundamental_PB_Ratio.csv
- Price_Close.csv
- Technical_RSI.csv

## ğŸ’¡ åŸºæœ¬ä½¿ç”¨

### æœ€ç®€å•çš„ä¾‹å­

```python
from easy_manager import EasyManager
import pandas as pd

# åˆ›å»ºç®¡ç†å™¨ï¼ˆè‡ªåŠ¨ä½¿ç”¨ä½ çš„æ•°æ®åº“é…ç½®ï¼‰
with EasyManager() as em:
    # 1. è¯»å–æ•°æ®
    df = pd.read_csv('sample_data/Fundamental_PB_Ratio.csv', index_col=0)
    
    # 2. åˆ›å»ºè¡¨
    em.create_table('my_table', df)
    
    # 3. å¯¼å…¥è¡¨
    df_loaded = em.load_table('my_table')
    
    # 4. åˆ é™¤è¡¨
    em.drop_table('my_table')
```

### å»é‡æ’å…¥ç¤ºä¾‹

```python
with EasyManager() as em:
    # ç¬¬ä¸€æ¬¡ï¼šåˆ›å»ºè¡¨å¹¶æ’å…¥æ•°æ®
    df1 = pd.read_csv('data1.csv', index_col=0)
    em.create_table('stock_data', df1)
    
    # ç¬¬äºŒæ¬¡ï¼šæ’å…¥æ–°æ•°æ®ï¼Œè‡ªåŠ¨è¿‡æ»¤é‡å¤è¡Œ
    df2 = pd.read_csv('data2.csv', index_col=0)
    em.insert_data('stock_data', df2, deduplicate=True)
    # åªæœ‰ä¸é‡å¤çš„è¡Œä¼šè¢«æ’å…¥ï¼
```

## ğŸ“Š å®Œæ•´ç¤ºä¾‹

```python
from easy_manager import EasyManager
import pandas as pd

with EasyManager() as em:
    # æŸ¥çœ‹æ‰€æœ‰è¡¨
    tables = em.list_tables()
    print(f"ç°æœ‰è¡¨: {tables}")
    
    # åŠ è½½æ ·æœ¬æ•°æ®
    df_pb = pd.read_csv('sample_data/Fundamental_PB_Ratio.csv', index_col=0)
    df_pe = pd.read_csv('sample_data/Fundamental_PE_Ratio.csv', index_col=0)
    
    # åˆ›å»ºä¸¤ä¸ªè¡¨
    em.create_table('pb_ratio', df_pb, overwrite=True)
    em.create_table('pe_ratio', df_pe, overwrite=True)
    
    # è·å–è¡¨ä¿¡æ¯
    info = em.get_table_info('pb_ratio')
    print(f"PBè¡¨ä¿¡æ¯: {info['row_count']}è¡Œ, {len(info['columns'])}åˆ—")
    
    # å¯¼å…¥æ•°æ®
    df_loaded = em.load_table('pb_ratio')
    print(f"å¯¼å…¥çš„æ•°æ®å½¢çŠ¶: {df_loaded.shape}")
    
    # æ¸…ç†
    em.drop_table('pb_ratio')
    em.drop_table('pe_ratio')
```

## âš™ï¸ æ•°æ®åº“é…ç½®

é»˜è®¤é…ç½®ï¼ˆå·²æŒ‰ä½ çš„è¦æ±‚è®¾ç½®ï¼‰ï¼š

```python
database = 'test_data_base'
user = 'postgres'
password = 'cbw88982449'
host = 'localhost'
port = '5432'
```

å¦‚æœéœ€è¦ä¿®æ”¹ï¼Œå¯ä»¥è¿™æ ·ï¼š

```python
em = EasyManager(
    database='your_database',
    user='your_user',
    password='your_password'
)
```

## ğŸ“ æ ¸å¿ƒæ–¹æ³•

| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `create_table(è¡¨å, DataFrame)` | åˆ›å»ºè¡¨ | `em.create_table('test', df)` |
| `insert_data(è¡¨å, DataFrame)` | æ’å…¥æ•°æ®ï¼ˆå»é‡ï¼‰ | `em.insert_data('test', df)` |
| `drop_table(è¡¨å)` | åˆ é™¤è¡¨ | `em.drop_table('test')` |
| `load_table(è¡¨å)` | å¯¼å…¥è¡¨ | `df = em.load_table('test')` |
| `list_tables()` | åˆ—å‡ºæ‰€æœ‰è¡¨ | `tables = em.list_tables()` |
| `get_table_info(è¡¨å)` | è·å–è¡¨ä¿¡æ¯ | `info = em.get_table_info('test')` |

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç¡®ä¿ PostgreSQL æ­£åœ¨è¿è¡Œ**
2. **ç¡®ä¿æ•°æ®åº“ `test_data_base` å·²åˆ›å»º**
3. **åˆ—åä¸­çš„ç‰¹æ®Šå­—ç¬¦ä¼šè‡ªåŠ¨è½¬æ¢**ï¼ˆå¦‚ `000001.SZ` â†’ `000001_SZ`ï¼‰
4. **å»é‡åŸºäºå®Œæ•´è¡Œæ¯”è¾ƒ**

## ğŸ”§ æµ‹è¯•å‰å‡†å¤‡

1. ç¡®ä¿ PostgreSQL æœåŠ¡æ­£åœ¨è¿è¡Œ
2. ç¡®ä¿æ•°æ®åº“ `test_data_base` å­˜åœ¨ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼Œéœ€è¦å…ˆåˆ›å»ºï¼‰
3. ç¡®ä¿æœ‰ `sample_data` æ–‡ä»¶å¤¹å’Œæ•°æ®æ–‡ä»¶

### åˆ›å»ºæµ‹è¯•æ•°æ®åº“ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰

```sql
-- åœ¨ PostgreSQL ä¸­è¿è¡Œ
CREATE DATABASE test_data_base;
```

æˆ–ä½¿ç”¨ psql å‘½ä»¤ï¼š

```bash
psql -U postgres
CREATE DATABASE test_data_base;
\q
```

## ğŸ“š æ›´å¤šä¿¡æ¯

- è¯¦ç»†ä½¿ç”¨è¯´æ˜ï¼šæŸ¥çœ‹ `EASY_MANAGER_README.md`
- ä¿®æ”¹è¯´æ˜ï¼šæŸ¥çœ‹ `ä¿®æ”¹è¯´æ˜.md`
- å®Œæ•´æµ‹è¯•ï¼šè¿è¡Œ `test_easy_manager.py`

## ğŸ‰ å¼€å§‹ä½¿ç”¨

ç°åœ¨ä½ å¯ä»¥è¿è¡Œæµ‹è¯•äº†ï¼š

```bash
# æ¨èï¼šå…ˆè¿è¡Œå¿«é€Ÿæµ‹è¯•
python quick_test.py

# ç„¶åè¿è¡Œæ ·æœ¬æ•°æ®æµ‹è¯•
python sample_data_test.py
```

ç¥ä½¿ç”¨æ„‰å¿«ï¼å¦‚æœ‰é—®é¢˜éšæ—¶å‘Šè¯‰æˆ‘ã€‚

